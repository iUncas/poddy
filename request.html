<html>
<title> ajax request </title>
<head>

<style>
 table, th, td 
        {
            margin:10px 0;
            border:solid 1px #333;
            padding:2px 4px;
            font:15px Verdana;
        }
        th {
            font-weight:bold;
        }
</style>

<script type="text/javascript"> 
function loadXMLDoc(url) { if (window.XMLHttpRequest) {
// code for IE7+, Firefox, Chrome, Opera, Safari 
xmlhttp=new XMLHttpRequest();
}
else {// code for IE6, IE5 xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.open("GET",url,false); xmlhttp.send(null); document.getElementById('test').innerHTML=xmlhttp.responseText;
document.getElementById('test').innerHTML=xmlhttp.responseText;
}
function CreateTableFromJSON() {
var myBooks=xmlhttp.responseText;
var col = [];
for (var i = 0; i < 10; i++) {
for (var key in myBooks[i]) {
if (col.indexOf(key) === -1) {
col.push(key);
}
}
}
var table = document.createElement("table");
var tr = table.insertRow(-1);
for (var i = 0; i < col.length; i++) {
var th = document.createElement("th");
th.innerHTML = col[i];
tr.appendChild(th);
}
for (var i = 0;  i < myBooks.length;  i++) {
tr = table.insertRow(-1);
for (var j = 0; j < col.length; j++) {
var tabCell = tr.insertCell(-1);
tabCell.innerHTML = myBooks[i][col[j]];
}
}
var divContainer = document.getElementById("showData");
divContainer.innerHTML = "";
divContainer.appendChild(table);
}
</script> 

</head>
<body>
<div id="test"> 
<h2>Click to let AJAX change this text</h2> 
</div> 
<div>
<button type="button" onclick="loadXMLDoc('ajax.pl')">get perl action</button>
</div> 
<input type="button" onclick="CreateTableFromJSON()" value="Create Table From JSON" />
    <div id="showData"></div>
</body> 
</html>
